# 移动端页面接口与展示规格（扩展版）

本文件基于当前 Web 菜单路径，梳理 App 端（uni-app）改造所需的接口、参数、页面逻辑与展示规范。客户池海已完成，其余页面按菜单顺序补齐。样式参考钉钉/飞书：顶部吸顶筛选、卡片化列表、左对齐信息区 + 右对齐状态/金额、高度留白、圆角与阴影。

## 导航映射（Web 路由 → App 页面）

- 报表：`/dashboard/analysis` → 移动端“报表”工作台，聚合总览、渠道报表、销售报表快捷入口。
- 审批中心：`/OA/index` → App 审批列表（待办/已办），与系统消息联动提醒。
- 客户列表（目录 `/customerManager`）
  - 客户池海：`/customerManager/TabCustomermanageList`（已完成）。
  - 客户回款：`/customerManager/BackmoneyList` → 对应下文“客户回款”。
  - 回款延期：`/customerManager/delay` → 对应下文“回款延期”。
- 项目列表（目录 `/project`）
  - 项目管理：`/projectManager/TabProjectmanageList` → “项目管理”。
  - 项目资金池：`/projectFundPool/TabProjectFundPoolList` → “项目资金池”。
  - 返点政策模板：`/customerManager/CustomerRetabeTemplate` → 归入“返点管理”。
  - 项目资金变动明细：`/projectFundPool/TabProjectFundPoolChangeLogList` → “项目资金变动明细”。
  - 微信机器人配置：`/projectManager/wechatConfig` → 运营配置（移动端可跳 WebView）。
- 账户管理（目录 `/account`）
  - 账户列表：`/accountids/index` → “账户列表”。
  - 账户主体：`/accountSubject/index` → “账户主体”。
  - 共享钱包：`/advertiserWallet/advertiserWalletInfo/TabAdvertiserWalletInfoList` → 作为账户列表子页。
  - 子端口、广告主ID复制、绑定变动记录 → 可并入“账户列表”详情的二级页/折叠面板。
- 流水管理（目录 `/fundTransferRecord`）
  - 充退处理：`/chongtui/index` → “客户到账/退款”入口（结合资金充退）。
  - 账户流水明细：`/fundTransferRecord/TabFundTransferRecordList` → “账户流水明细”。
  - 账户消耗明细：`/consume/index` → “账户消耗明细”。
- 资金管理（目录 `/moneyManager`）
  - 客户到账：`/moneyManager/Preparation`。
  - 客户退款：`/moneyManager/Refund`。
  - 到账记录：`/moneyManager/TabCmbTransactionRecordList` → 银行侧记录，可做“到账记录”二级页。
  - 银行转账：`/moneyManager/TabCmbPaymentTransferRecordList`。
  - 项目损失：`/projectLossRecord/index` → “项目损失”。
  - 抬头管理：`/Manager/bankAccount` → 归入账户主体或合同管理二级页。
  - 合同管理：`/contranct/index` → 合同列表，详情可跳 WebView。
- 素材管理（目录 `/layouts/RouteView` 下 materialManage）
  - 数据洞察：`/materialManage/dataCheck` → 统计看板（可嵌 H5）。
  - 素材列表：`/materialManage/index` → “素材列表”。
  - 素材裂变：`/materialManage/copy` → 列表子操作。
  - 素材风控：`/materialManage/douyinViolationScoreRecord` → “素材风控”。
- 财务报表（目录 `/financeReport/index`）
  - 返点管理（巨量引擎/磁力/腾讯子模块）对应“返点管理”与“巨量引擎相关”。
  - 成本导入：`/moneyManager/ExcelParser` → 工具型入口，移动端可 WebView。
  - 利润报表：`/moneyManager/BackmoneyList` → 报表页。
- 基础配置（目录 `/channelManager`）
  - 渠道列表：`/channelManager/ChannelList` → “渠道列表”。
  - 平台应用管理：`/channelManager/AppManager` → 可作为工具页。
  - 竞价分类返点模板：`/channelManager/rebate` → 归入“返点管理”。
  - 卡号配置：`/moneyManager/TabBankAccountConfigList` → 与抬头/账户主体并列。
  - 代理商账户：`/advertiserInfo/TabAdvertiserInfoList` → “代理商账户”。
- 个人页、消息中心、系统管理、在线开发、系统监控等后台工具可维持 H5 WebView，移动端仅保留入口。

---
## 客户与回款

### 客户回款（列表）
- **路由**：`/customerManager/BackmoneyList`
- **列表接口**：`/tempProjectPaymentRecords/list`（GET，`{ pageNo, pageSize, customerId?, proId?, dateMonth?, channelId?, status? }`）。
- **返回**：`{ success: true, result: { records: [...], total } }`。
- **列表字段**：客户名称、项目名称、月份、总消耗、现金消耗、收入、返点金额、到账金额、逾期天数。
- **详情接口**：`/tempProjectPaymentRecords/queryById`（GET，`{ id }`）。
- **操作**：逾期天数 > 0 显示“延期申请”；筛选支持月份、项目、渠道、客户；提醒权限 action=`reminder`。
- **移动端展示**：卡片左侧名称+月份，右上角状态/逾期标签，金额区横向排列；支持下拉刷新、上拉分页。

### 回款延期（列表）
- **路由**：`/customerManager/delay`
- **列表接口**：`/paymentDelayApply/list`（GET，`{ pageNo, pageSize, customerId?, proId?, month?, status?, approverId? }`）。
- **详情接口**：`/paymentDelayApply/queryById`（GET，`{ id }`）。
- **列表字段**：客户名称、项目名称、原到期日、申请延期日、延期原因、审批状态、审批人。
- **操作**：提交/撤回/重新提交/审批；状态筛选（待审批/已通过/已拒绝）。
- **移动端展示**：审批状态置于卡片右上；底部“查看审批流”进入时间线；审批操作底部固定按钮。

## 项目与资金池

### 项目管理（列表 + 详情）
- **路由**：`/projectManager/TabProjectmanageList`
- **列表接口**：`/project/list`（GET，`{ pageNo, pageSize, keyword?, ownerId?, status?, industry? }`）。
- **详情接口**：`/project/queryById`（GET，`{ id }`）。
- **列表字段**：项目名称、客户、负责人、行业、状态、预计消耗、更新时间。
- **操作**：新建/编辑、移交、归档、进入资金池。
- **移动端展示**：卡片化，右侧显示状态标签与更新时间；卡片内提供“资金池”快捷入口。

### 项目资金池（列表 + 详情）
- **路由**：`/projectFundPool/TabProjectFundPoolList`
- **列表接口**：`/projectFundPool/list`（GET，`{ pageNo, pageSize, proId?, customerId?, month?, status? }`）。
- **详情接口**：`/projectFundPool/queryById`（GET，`{ id }`）。
- **列表字段**：项目名称、客户、月份、期初余额、入账、出账、期末余额、锁定金额。
- **操作**：入池/出池、锁定/解锁、导出；跳转资金变动明细。
- **移动端展示**：金额区使用分栏对齐，锁定金额用徽标；余额可点击进入明细。

### 项目资金变动明细（列表）
- **路由**：`/projectFundPool/TabProjectFundPoolChangeLogList`
- **列表接口**：`/projectFundChanges/list`（GET，`{ pageNo, pageSize, proId, month?, type?, source? }`）。
- **列表字段**：变动时间、类型（入账/出账/锁定）、金额、来源单号、操作人、备注。
- **操作**：按类型筛选、导出；点击来源单号跳转对应详情。
- **移动端展示**：时间轴形式；金额正负配色。

## 账户管理

### 账户列表（列表 + 详情）
- **路由**：`/accountids/index`
- **列表接口**：`/account/list`（GET，`{ pageNo, pageSize, keyword?, accountType?, status?, ownerId? }`）。
- **详情接口**：`/account/queryById`（GET，`{ id }`）。
- **列表字段**：账户名称、主体、类型、余额、授信、状态、负责人。
- **扩展子页**：共享钱包 `/advertiserWallet/advertiserWalletInfo/TabAdvertiserWalletInfoList`、子端口 `/channelManager/subPort`、广告主ID复制 `/accountids/copy`、绑定变动记录 `/accountids/accountChangeRecord`。
- **操作**：新建/编辑、停用、绑定主体、查看流水。
- **移动端展示**：金额+进度条组合，状态角标，展开折叠展示子页；余额点击进入流水。

### 账户主体（列表 + 详情）
- **路由**：`/accountSubject/index`
- **列表接口**：`/accountSubject/list`（GET，`{ pageNo, pageSize, keyword?, level?, status? }`）。
- **详情接口**：`/accountSubject/queryById`（GET，`{ id }`）。
- **列表字段**：主体名称、统一社会信用代码、主体级别、开票抬头、状态。
- **操作**：新增、编辑、禁用、查看关联账户；支持卡号配置 `/moneyManager/TabBankAccountConfigList`。
- **移动端展示**：工商信息折叠；关联账户为子列表。

### 账户流水明细（列表）
- **路由**：`/fundTransferRecord/TabFundTransferRecordList`
- **列表接口**：`/accountFlows/list`（GET，`{ pageNo, pageSize, accountId, startDate?, endDate?, type?, direction? }`）。
- **列表字段**：交易时间、方向（收入/支出）、金额、余额、业务单号、摘要、操作人。
- **操作**：时间/方向筛选，导出，跳转业务单。
- **移动端展示**：时间轴；收入/支出颜色区分；顶部余额概览。

### 账户消耗明细（列表）
- **路由**：`/consume/index`
- **列表接口**：`/accountConsumption/list`（GET，`{ pageNo, pageSize, accountId, month?, projectId?, channelId? }`）。
- **列表字段**：月份、项目、渠道、消耗金额、返点、现金占比、计费模式。
- **操作**：按项目/渠道/月筛选；导出。
- **移动端展示**：按月份分组折叠；小计置顶。

## 资金管理

### 客户到账（列表）
- **路由**：`/moneyManager/Preparation`
- **列表接口**：`/customerArrival/list`（GET，`{ pageNo, pageSize, customerId?, proId?, payMethod?, startDate?, endDate? }`）。
- **列表字段**：到账时间、客户、项目、金额、支付方式、到账渠道、票据号、状态。
- **操作**：登记、编辑、作废、导出、上传凭证。
- **移动端展示**：金额与状态右对齐，凭证可预览；顶部“快速登记”按钮。

### 客户退款（列表）
- **路由**：`/moneyManager/Refund`
- **列表接口**：`/customerRefund/list`（GET，`{ pageNo, pageSize, customerId?, proId?, status?, startDate?, endDate? }`）。
- **列表字段**：退款时间、客户、项目、退款金额、原因、原到账单号、审批状态。
- **操作**：发起、审批、驳回、导出。
- **移动端展示**：审批状态标签；底部固定“发起退款”。

### 到账记录（银行侧）
- **路由**：`/moneyManager/TabCmbTransactionRecordList`
- **列表接口**：`/bank/transaction/list`（GET，`{ pageNo, pageSize, accountId?, startDate?, endDate?, status? }`）。
- **列表字段**：交易时间、金额、对手账户、用途、状态、对账结果。
- **操作**：对账确认、导出。
- **移动端展示**：对账结果徽标，支持按状态筛选。

### 银行转账
- **路由**：`/moneyManager/TabCmbPaymentTransferRecordList`
- **列表接口**：`/bank/transfer/list`（GET，`{ pageNo, pageSize, payerAccountId?, payeeAccountId?, startDate?, endDate?, status? }`）。
- **列表字段**：转账时间、付款账户、收款账户、金额、用途、状态。
- **操作**：发起转账、撤回、导出。
- **移动端展示**：付款/收款账户上下分行；状态用进度标签。

### 项目损失（列表）
- **路由**：`/projectLossRecord/index`
- **列表接口**：`/projectLoss/list`（GET，`{ pageNo, pageSize, proId?, customerId?, month?, lossType? }`）。
- **列表字段**：项目、客户、月份、损失金额、损失类型、原因、登记人、时间。
- **操作**：新建、编辑、审批、导出。
- **移动端展示**：金额按类型着色，详情含附件与审批流。

### 合同管理 / 抬头管理
- **路由**：`/contranct/index`（合同）、`/Manager/bankAccount`（抬头）
- **接口**：合同列表 `/contract/list`（GET，`{ pageNo, pageSize, keyword?, customerId?, status? }`）；抬头列表 `/bankAccount/list`。
- **移动端展示**：列表+详情 WebView 或轻量原生；允许上传/预览 PDF。

## 素材管理

### 素材列表（列表 + 详情）
- **路由**：`/materialManage/index`
- **列表接口**：`/material/list`（GET，`{ pageNo, pageSize, keyword?, customerId?, proId?, status?, riskLevel? }`）。
- **详情接口**：`/material/queryById`（GET，`{ id }`）。
- **列表字段**：素材名称、归属项目/客户、类型（图片/视频/文案）、风控等级、创建人、更新时间。
- **操作**：上传、替换、下架、关联项目、预览；素材裂变 `/materialManage/copy` 作为批量操作。
- **移动端展示**：缩略图+文字；风控等级彩色标签；长按批量选择。

### 数据洞察
- **路由**：`/materialManage/dataCheck`
- **接口**：`/material/insight`（GET，`{ dateRange?, projectId?, channelId? }`）。
- **展示**：图表卡片（柱状/折线），支持左右滑动；可嵌 H5。

### 素材风控（列表）
- **路由**：`/materialManage/douyinViolationScoreRecord`
- **列表接口**：`/materialRisk/list`（GET，`{ pageNo, pageSize, riskLevel?, status?, reviewerId?, startDate?, endDate? }`）。
- **列表字段**：素材名称、风险等级、违规标签、审核状态、审核人、审核时间。
- **操作**：提交复审、标记白名单、导出。
- **移动端展示**：违规标签支持横向滚动；状态置顶。

## 财务报表与返利

### 返点管理（列表）
- **路由**：`/mediaRebate/index`（含巨量/磁力/腾讯子模块）
- **列表接口**：`/rebate/list`（GET，`{ pageNo, pageSize, customerId?, proId?, month?, channelId?, status? }`）。
- **列表字段**：月份、客户、项目、渠道、应返金额、已返金额、返点比例、状态。
- **操作**：生成返点单、确认发放、导出、查看明细；子模块共用接口或拆分 `/mediaRebate/DY/*`、`/CL/*`、`/TX/*` 路由。
- **移动端展示**：应返/已返并排；状态角标显示发放进度；支持按媒体（巨量/磁力/腾讯）切换 Tab。

### 巨量引擎相关（主列表）
- **路由**：`/mediaRebate/DY/index` 及其子路由
- **列表接口**：`/oceanengine/module/list`（GET，`{ pageNo, pageSize, accountId?, advertiserId?, moduleType?, date?, keyword? }`）。
- **列表字段**：模块名称（计划/创意/报表）、账户、广告主、日期、消耗、转化、状态。
- **操作**：跳 WebView 查看原页、导出报表、按模块筛选。
- **移动端展示**：模块 Tab + 列表；行项支持右滑快捷操作（导出/跳转）。

## 渠道与代理商

### 渠道列表（列表 + 详情）
- **路由**：`/channelManager/ChannelList`
- **列表接口**：`/channel/list`（GET，`{ pageNo, pageSize, keyword?, grade?, status?, ownerId? }`）。
- **详情接口**：`/channel/queryById`（GET，`{ id }`）。
- **列表字段**：渠道名称、等级、区域、负责人、返点政策、状态。
- **操作**：新增/编辑、禁用、查看返点、关联项目。
- **移动端展示**：返点政策摘要置于卡片下方；支持按等级筛选。

### 代理商账户（列表）
- **路由**：`/advertiserInfo/TabAdvertiserInfoList`
- **列表接口**：`/agentAccount/list`（GET，`{ pageNo, pageSize, agentId?, status?, channelId?, startDate?, endDate? }`）。
- **列表字段**：代理商名称、账户余额、授信额度、近30天消耗、结算周期、状态。
- **操作**：充值、调整授信、停用、导出。
- **移动端展示**：余额可下钻账户流水；授信进度条；按授信额度排序。

---
## 通用展示与交互要求
- 所有列表支持分页（`pageNo`/`pageSize`）、下拉刷新、上拉加载；筛选后重置到第一页。
- 筛选区吸顶，常用筛选（日期/状态/项目/渠道）Tab 化；搜索框提供历史记录。
- 金额字段两位小数，收入/支出颜色区分；状态使用圆角标签。
- 列表卡片：左信息区（标题+副标题），右状态/金额；底部放操作快捷入口。
- 详情页支持附件预览与审批流时间线；需要登录态透传（token、路由）以便 H5 WebView 复用。
- 权限点：遵循 `auth/allAuth` 中的 action，移动端在操作按钮前校验（如 `reminder` 回款提醒、`online:goGenerateCode` 仅保留 Web 工具入口）。