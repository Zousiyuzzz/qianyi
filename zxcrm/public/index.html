<!DOCTYPE html>
<html lang="zh-cmn-Hans">

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width,initial-scale=1.0">
  <title>云枢管理平台</title>
  <link rel="icon" href="<%= BASE_URL %>logo.png">
  <!-- 预加载本地字体文件 -->
  <link rel="preload" href="<%= BASE_URL %>WDXLLubrifontSC-Regular.ttf" as="font" type="font/ttf" crossorigin>
  <style>
    @font-face {
      font-family: 'WDXL Lubrifont SC Local';
      src: url('<%= BASE_URL %>WDXLLubrifontSC-Regular.ttf') format('truetype');
      font-weight: normal;
      font-style: normal;
      font-display: swap;
    }
  </style>
  <style>
    html,
    body,
    #app {
      height: 100%;
      margin: 0px;
      padding: 0px;
    }

    #loader-wrapper {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: 999999;
      background: #fff;
      display: flex;
      justify-content: center;
      align-items: center;
    }

    .loader-container {
      position: relative;
      width: 800px;
      height: 300px;
      display: flex;
      justify-content: center;
      align-items: center;
    }

    .loaded #loader-wrapper {
      visibility: hidden;
      opacity: 0;
      transition: all 0.3s ease-out;
    }

    /* SVG text animation */
    .loader-text-svg {
      width: 100%;
      height: 100%;
      display: flex;
      justify-content: center;
      align-items: center;
    }

    .loader-text {
      font-size: 60px;
      font-family: "WDXL Lubrifont SC Local", "Microsoft YaHei", "PingFang SC", sans-serif;
      font-weight: 400;
      font-style: normal;
      stroke: black;
      stroke-width: 1px;
      stroke-dasharray: 200 0;
      /* Initial completed state */
      stroke-dashoffset: 200;
      fill: black;
      /* Initial completed state */
      opacity: 0;
      transition: opacity 0.3s ease-in-out;
      animation: textAnimation 3s linear infinite;
      /* 2s animation + 2s wait */
      animation-delay: 1s;
      /* Wait 1.5s before starting animation */
    }

    /* 字体加载完成后显示文字 */
    .fonts-loaded .loader-text {
      opacity: 1;
    }

    @keyframes textAnimation {
      0% {
        stroke-dasharray: 0 200;
        stroke-dashoffset: 0;
        fill: black;
      }

      35% {
        /* 70% of 2s = 1400ms */
        stroke-dasharray: 200 0;
        stroke-dashoffset: 200;
        fill: transparent;
      }

      40% {
        /* 80% of 2s = 1600ms */
        stroke-dasharray: 200 0;
        stroke-dashoffset: 200;
        fill: transparent;
      }

      50% {
        /* 100% of 2s = 2000ms */
        stroke-dasharray: 200 0;
        stroke-dashoffset: 200;
        fill: black;
      }

      100% {
        /* Hold state for 2s (2000ms–4000ms) */
        stroke-dasharray: 200 0;
        stroke-dashoffset: 200;
        fill: black;
      }
    }

    /* PC端适配 */
    @media (min-width: 769px) {
      .loader-text-svg {
        viewBox: "0 0 800 200";
      }

      .loader-text {
        font-size: 70px;
        stroke-dasharray: 250 0;
        stroke-dashoffset: 250;
      }

      @keyframes textAnimation {
        0% {
          stroke-dasharray: 0 250;
          stroke-dashoffset: 0;
          fill: black;
        }

        35% {
          stroke-dasharray: 250 0;
          stroke-dashoffset: 250;
          fill: transparent;
        }

        40% {
          stroke-dasharray: 250 0;
          stroke-dashoffset: 250;
          fill: transparent;
        }

        50% {
          stroke-dasharray: 250 0;
          stroke-dashoffset: 250;
          fill: black;
        }

        100% {
          stroke-dasharray: 250 0;
          stroke-dashoffset: 250;
          fill: black;
        }
      }
    }

    /* 移动端适配 */
    @media (max-width: 768px) {
      .loader-text-svg {
        viewBox: "0 0 400 200";
      }

      .loader-text {
        font-size: 40px;
        stroke-dasharray: 150 0;
        stroke-dashoffset: 150;
      }

      @keyframes textAnimation {
        0% {
          stroke-dasharray: 0 150;
          stroke-dashoffset: 0;
          fill: black;
        }

        35% {
          stroke-dasharray: 150 0;
          stroke-dashoffset: 150;
          fill: transparent;
        }

        40% {
          stroke-dasharray: 150 0;
          stroke-dashoffset: 150;
          fill: transparent;
        }

        50% {
          stroke-dasharray: 150 0;
          stroke-dashoffset: 150;
          fill: black;
        }

        100% {
          stroke-dasharray: 150 0;
          stroke-dashoffset: 150;
          fill: black;
        }
      }
    }

    @media (max-width: 480px) {
      .loader-text {
        font-size: 32px;
        stroke-dasharray: 120 0;
        stroke-dashoffset: 120;
      }

      @keyframes textAnimation {
        0% {
          stroke-dasharray: 0 120;
          stroke-dashoffset: 0;
          fill: black;
        }

        35% {
          stroke-dasharray: 120 0;
          stroke-dashoffset: 120;
          fill: transparent;
        }

        40% {
          stroke-dasharray: 120 0;
          stroke-dashoffset: 120;
          fill: transparent;
        }

        50% {
          stroke-dasharray: 120 0;
          stroke-dashoffset: 120;
          fill: black;
        }

        100% {
          stroke-dasharray: 120 0;
          stroke-dashoffset: 120;
          fill: black;
        }
      }
    }
  </style>
  <script>
    // 预加载字体
    // (function () {
    //   var font = new FontFace('WDXL Lubrifont SC Local', 'url(<%= BASE_URL %>WDXLLubrifontSC-Regular.ttf)');
    //   font.load().then(function (loadedFont) {
    //     document.fonts.add(loadedFont);
    //     document.body.classList.add('fonts-loaded');
    //   }).catch(function (error) {
    //     console.warn('字体加载失败:', error);
    //     // 如果字体加载失败，仍然显示文字（使用后备字体）
    //     document.body.classList.add('fonts-loaded');
    //   });
    // })();
  </script>
  <script src="<%= BASE_URL %>static/config.js?v=20240201"></script>
</head>

<body>
  <div id="app">
    <div id="loader-wrapper">
      <div class="loader-container">
        <svg class="loader-text-svg" viewBox="0 0 600 200">
          <text x="50%" y="50%" text-anchor="middle" dominant-baseline="middle" class="loader-text">
            云枢管理平台
          </text>
        </svg>
      </div>
    </div>
  </div>

  <script>
    var _hmt = _hmt || [];
    (function () {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?0febd9e3cacb3f627ddac64d52caac39";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>
</body>

</html>